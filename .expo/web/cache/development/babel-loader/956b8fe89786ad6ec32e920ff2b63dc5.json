{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\brandon.lacy\\\\xplore\\\\src\\\\context\\\\HuntContext.tsx\";\n\nimport React, { useContext, useState } from \"react\";\nimport { useAxiosContext } from \"./AxiosContext\";\nvar HuntContext = React.createContext({\n  huntList: [],\n  huntListLoading: true,\n  currentHunt: undefined,\n  updateHuntList: Function,\n  joinHunt: Function,\n  leaveHunt: Function\n});\nexport var HuntProvider = function HuntProvider(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      huntList = _useState2[0],\n      setHuntList = _useState2[1];\n\n  var _useState3 = useState(undefined),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentHunt = _useState4[0],\n      setCurrentHunt = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      huntListLoading = _useState6[0],\n      setHuntListLoading = _useState6[1];\n\n  var axiosContext = useAxiosContext();\n\n  var updateHuntList = function updateHuntList() {\n    setHuntListLoading(true);\n    axiosContext.fetchHunts().then(function (res) {\n      if (res) {\n        setHuntList(res.hunts);\n      }\n\n      setHuntListLoading(false);\n    });\n  };\n\n  var getHuntById = function getHuntById(id) {\n    return huntList.find(function (s) {\n      return s.huntId == id;\n    });\n  };\n\n  var joinHunt = function joinHunt(huntId) {\n    axiosContext.joinHunt(huntId).then(function (res) {\n      setCurrentHunt(res);\n    });\n  };\n\n  var leaveHunt = function leaveHunt(huntId) {\n    axiosContext.leaveHunt(huntId).then(function (res) {\n      setCurrentHunt(undefined);\n    });\n  };\n\n  return React.createElement(HuntContext.Provider, {\n    value: {\n      huntList: huntList,\n      huntListLoading: huntListLoading,\n      currentHunt: currentHunt,\n      updateHuntList: updateHuntList,\n      joinHunt: joinHunt,\n      leaveHunt: leaveHunt\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, props.children);\n};\nexport var useHuntContext = function useHuntContext() {\n  var context = useContext(HuntContext);\n\n  if (context === undefined) {\n    throw new Error(\"Error using DataProvider\");\n  }\n\n  return context;\n};\nexport default HuntContext;","map":{"version":3,"sources":["C:/Users/brandon.lacy/xplore/src/context/HuntContext.tsx"],"names":["React","useContext","useState","useAxiosContext","HuntContext","createContext","huntList","huntListLoading","currentHunt","undefined","updateHuntList","Function","joinHunt","leaveHunt","HuntProvider","props","setHuntList","setCurrentHunt","setHuntListLoading","axiosContext","fetchHunts","then","res","hunts","getHuntById","id","find","s","huntId","children","useHuntContext","context","Error"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAA8BC,UAA9B,EAA0CC,QAA1C,QAA0D,OAA1D;AACA,SAASC,eAAT;AAYA,IAAMC,WAAW,GAAGJ,KAAK,CAACK,aAAN,CAAkC;AAClDC,EAAAA,QAAQ,EAAE,EADwC;AAElDC,EAAAA,eAAe,EAAE,IAFiC;AAGlDC,EAAAA,WAAW,EAAEC,SAHqC;AAIlDC,EAAAA,cAAc,EAAEC,QAJkC;AAKlDC,EAAAA,QAAQ,EAAED,QALwC;AAMlDE,EAAAA,SAAS,EAAEF;AANuC,CAAlC,CAApB;AASA,OAAO,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAwD;AAChF,kBAAgCb,QAAQ,CAAU,EAAV,CAAxC;AAAA;AAAA,MAAOI,QAAP;AAAA,MAAiBU,WAAjB;;AACA,mBAAsCd,QAAQ,CAAoBO,SAApB,CAA9C;AAAA;AAAA,MAAOD,WAAP;AAAA,MAAoBS,cAApB;;AAEA,mBAA8Cf,QAAQ,CAAC,KAAD,CAAtD;AAAA;AAAA,MAAOK,eAAP;AAAA,MAAwBW,kBAAxB;;AAEA,MAAMC,YAAY,GAAGhB,eAAe,EAApC;;AAEA,MAAMO,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzBQ,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAC,IAAAA,YAAY,CAACC,UAAb,GAA0BC,IAA1B,CAA+B,UAACC,GAAD,EAAc;AACzC,UAAIA,GAAJ,EAAS;AACLN,QAAAA,WAAW,CAACM,GAAG,CAACC,KAAL,CAAX;AACH;;AACDL,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACH,KALD;AAMH,GARD;;AAUA,MAAMM,WAAW,GAAG,SAAdA,WAAc,CAACC,EAAD,EAAgB;AAChC,WAAOnB,QAAQ,CAACoB,IAAT,CAAc,UAACC,CAAD;AAAA,aAAOA,CAAC,CAACC,MAAF,IAAYH,EAAnB;AAAA,KAAd,CAAP;AACH,GAFD;;AAIA,MAAMb,QAAQ,GAAG,SAAXA,QAAW,CAACgB,MAAD,EAAoB;AACjCT,IAAAA,YAAY,CAACP,QAAb,CAAsBgB,MAAtB,EAA8BP,IAA9B,CAAmC,UAACC,GAAD,EAAc;AAC7CL,MAAAA,cAAc,CAACK,GAAD,CAAd;AACH,KAFD;AAGH,GAJD;;AAKA,MAAMT,SAAS,GAAG,SAAZA,SAAY,CAACe,MAAD,EAAoB;AAClCT,IAAAA,YAAY,CAACN,SAAb,CAAuBe,MAAvB,EAA+BP,IAA/B,CAAoC,UAACC,GAAD,EAAc;AAC9CL,MAAAA,cAAc,CAACR,SAAD,CAAd;AACH,KAFD;AAGH,GAJD;;AAMA,SACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AACzBH,MAAAA,QAAQ,EAARA,QADyB;AAEzBC,MAAAA,eAAe,EAAfA,eAFyB;AAGzBC,MAAAA,WAAW,EAAXA,WAHyB;AAIzBE,MAAAA,cAAc,EAAdA,cAJyB;AAKzBE,MAAAA,QAAQ,EAARA,QALyB;AAMzBC,MAAAA,SAAS,EAATA;AANyB,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQKE,KAAK,CAACc,QARX,CADJ;AAYH,CA7CM;AA+CP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAoB;AAC9C,MAAMC,OAAO,GAAG9B,UAAU,CAAeG,WAAf,CAA1B;;AAEA,MAAI2B,OAAO,KAAKtB,SAAhB,EAA2B;AACvB,UAAM,IAAIuB,KAAJ,4BAAN;AACH;;AACD,SAAOD,OAAP;AACH,CAPM;AASP,eAAe3B,WAAf","sourcesContent":["import React, { ReactElement, useContext, useState } from \"react\";\r\nimport { useAxiosContext } from \"./AxiosContext\";\r\nimport { IHunt } from \"../interfaces/Hunt\";\r\n\r\nexport interface IHuntContext {\r\n    huntList: IHunt[];\r\n    huntListLoading: boolean;\r\n    currentHunt: IHunt | undefined;\r\n    updateHuntList: Function;\r\n    joinHunt: Function;\r\n    leaveHunt: Function;\r\n}\r\n\r\nconst HuntContext = React.createContext<IHuntContext>({\r\n    huntList: [],\r\n    huntListLoading: true,\r\n    currentHunt: undefined,\r\n    updateHuntList: Function,\r\n    joinHunt: Function,\r\n    leaveHunt: Function,\r\n});\r\n\r\nexport const HuntProvider = (props: { children: ReactElement | ReactElement[] }) => {\r\n    const [huntList, setHuntList] = useState<IHunt[]>([]);\r\n    const [currentHunt, setCurrentHunt] = useState<IHunt | undefined>(undefined);\r\n\r\n    const [huntListLoading, setHuntListLoading] = useState(false);\r\n\r\n    const axiosContext = useAxiosContext();\r\n\r\n    const updateHuntList = () => {\r\n        setHuntListLoading(true);\r\n        axiosContext.fetchHunts().then((res: any) => {\r\n            if (res) {\r\n                setHuntList(res.hunts);\r\n            }\r\n            setHuntListLoading(false);\r\n        })\r\n    }\r\n\r\n    const getHuntById = (id: string) => {\r\n        return huntList.find((s) => s.huntId == id);\r\n    }\r\n\r\n    const joinHunt = (huntId: string) => {\r\n        axiosContext.joinHunt(huntId).then((res: any) => {\r\n            setCurrentHunt(res);\r\n        })\r\n    }\r\n    const leaveHunt = (huntId: string) => {\r\n        axiosContext.leaveHunt(huntId).then((res: any) => {\r\n            setCurrentHunt(undefined);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <HuntContext.Provider value={{\r\n            huntList,\r\n            huntListLoading,\r\n            currentHunt,\r\n            updateHuntList,\r\n            joinHunt,\r\n            leaveHunt,\r\n        }}>\r\n            {props.children}\r\n        </HuntContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useHuntContext = (): IHuntContext => {\r\n    const context = useContext<IHuntContext>(HuntContext);\r\n\r\n    if (context === undefined) {\r\n        throw new Error(`Error using DataProvider`);\r\n    }\r\n    return context;\r\n};\r\n\r\nexport default HuntContext;\r\n"]},"metadata":{},"sourceType":"module"}